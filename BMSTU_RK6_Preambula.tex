\documentclass[oneside,final,14pt,a4paper]{extreport} %Класс репортов, где можно шрифт менять
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc} %Кодировка
\usepackage[russianb]{babel} % адаптация русского языка
\usepackage{url} %УРЛ Адреса
\usepackage{cite} %цитирование
\usepackage{pstricks,pst-plot,pb-diagram} % оформление листингов программ
\usepackage{fancyhdr} % Колонтинулы (ничего не менял)


%Русские шрифты с Times New Roman
\usepackage{pscyr} %Пакет который надо установить, для times New Roman
\renewcommand{\rmdefault}{ftm} %Times New Roman
\renewcommand{\sfdefault}{ftx}
\renewcommand{\ttdefault}{cmtt}


%Математика
\usepackage{amssymb,amsfonts,amsmath,mathtext}
\renewcommand{\theequation}{\arabic{equation}}% сплошная нумерация


%настройка размера полосы набора
\usepackage{vmargin}
\setpapersize{A4}
\setmarginsrb{3cm}{2cm}{1cm}{2cm}{0pt}{0mm}{0pt}{13mm} % {левое поле}{верхнее поле}{правое поле}{нижнее поле}{колонтитулы}{колонтитулы}{колонтитулы}{номер страницы}


%Межстрочный интервал и абзацный отступ
\usepackage{setspace} % для изменения межстрочного интервала
\sloppy % выравнивание текста
\setstretch{1.5} % устанавливаем межстрочный интервал
\usepackage{indentfirst} % отделять первую строку раздела абзацным отступом
\parindent=1.25cm % Красная строка


%Общее для таблиц и рисунков (caption)
\usepackage{caption}
\DeclareCaptionLabelSeparator{tire}{~--- ~} %Описание разделителя
%Центрирование текста, within - полную(none) или сквозную нумерацию 
\captionsetup{justification=centering,labelsep=tire, figurename=Рисунок, figurewithin=none, tablewithin=none, tablename=Таблица}


%Внешние картинки
\usepackage{graphicx} %подключение библиотеки для работы с внешними картинками
\graphicspath{{images/}} %путь к рисункам


%Таблицы
\usepackage{floatrow}
\usepackage{longtable} %Многостраничные таблицы
\floatsetup[table]{capposition=top} %надпись про таблицу наверху


%Настройки всех видов списков(enumirate и itemize)
\usepackage{enumerate}
\usepackage{enumitem}
\RequirePackage{calc} %Для складывания чисел
%Нумерация числовых строк по ГОСТ
\renewcommand{\labelenumi}{\arabic{enumi})} %( 1),2),3))
\renewcommand{\labelenumii}{\alph{enumii})} %( a),b),c))
%Интервал между строками как в обычном тексте
%Интервал в itemize
\setlist[itemize,1]{leftmargin=0pt,itemindent=(\parindent+0.5\labelwidth),topsep=0pt,itemsep=0pt,parsep=0pt,partopsep=0pt}
\setlist[itemize,2]{leftmargin=\parindent,itemindent=(\parindent+0.5\labelwidth),topsep=0pt,itemsep=0pt,parsep=0pt,partopsep=0pt}
\setlist[itemize,3]{leftmargin=\parindent,itemindent=(\parindent+0.5\labelwidth),topsep=0pt,itemsep=0pt,parsep=0pt,partopsep=0pt}
%Интервал в enumirate
\setlist[enumerate,1]{leftmargin=0pt,itemindent=(\parindent+0.66\labelwidth),topsep=0pt,itemsep=0pt,parsep=0pt,partopsep=0pt}
\setlist[enumerate,2]{leftmargin=\parindent,itemindent=(\parindent+0.66\labelwidth),topsep=0pt,itemsep=0pt,parsep=0pt,partopsep=0pt}
\setlist[enumerate,3]{leftmargin=\parindent,itemindent=(\parindent+0.66\labelwidth),topsep=0pt,itemsep=0pt,parsep=0pt,partopsep=0pt}


%Главы
\usepackage{titlesec}
% Формат записи: \titleformat{command}[shape]{format}{label}{sep}{before}[after]
% Формат записи: \titlespacing*{command}{left}{beforesep}{aftersep}[right]
%Настройка главы
\titleformat{\chapter}[block]{\raggedright\normalsize\bfseries\center}{ \thechapter\space}{0.5em}{}
\titlespacing*{\chapter}{0 pt}{0 mm}{0 pt}
%Настройка секции
\titleformat{\section} {\raggedright\normalsize\bfseries}{\thesection}{1em}{}
\titlespacing*{\section}{\parindent}{12 pt}{0 pt}
%Настройка подсекции
\titleformat{\subsection} {\raggedright\normalsize\bfseries}{\thesubsection}{1em}{}
\titlespacing*{\subsection}{\parindent}{12 pt}{0 pt}
%Настройка под под секции
\titleformat{\subsubsection} {\raggedright\normalsize\bfseries}{\thesubsubsection}{1em}{}
\titlespacing*{\subsubsection}{\parindent}{12 pt}{0 pt}
%Новая глава не на новой странице
\makeatletter 
%\renewcommand\chapter{\par%
%\thispagestyle{plain}
%\@afterindentfalse \secdef\@chapter\@schapter} 
\makeatother


%Оглавление
\usepackage{tocloft} % Подключение библ-ки для работы с содержанием
\renewcommand\cftbeforechapskip{0 pt}
\setcounter{secnumdepth}{3} % Допускается нумерация подпунктов
\setcounter{tocdepth}{3} % Пронумерованные подпункты в содержание
\renewcommand{\cftdotsep}{1} % Расстояние между точками
\renewcommand{\cftchapdotsep}{\cftdotsep} % Точки от глав до номеров страниц
\renewcommand{\cftbeforetoctitleskip}{-21 pt} % Убираем лишние 1.5 интервала перед содержанием
\renewcommand{\cfttoctitlefont}{\hfil\large\bfseries\MakeUppercase} %% В доках написано, что
\renewcommand{\cftaftertoctitle}{\hfil} %% это поставит содержание по середине:)
\renewcommand\cftaftertoctitleskip{0 mm} %Оступ от "СОДЕРЖАНИЕ" на 2 интервала + 0мм
\renewcommand\cftchapfont{} %Главы в содержании не жирным шрифтом
\renewcommand\cftchappagefont{} %Номера глав в содержании не жирные
\renewcommand{\cftchapleader}{\cftdotfill{\cftchapdotsep}} %Точки глав не жирные
%\renewcommand{\cftsecaftersnum}{.} %Ставит точки у номеров секций
%\renewcommand{\cftsubsecaftersnum}{.} %Ставит точки у номеров подсекций
%\renewcommand{\cftsubsubsecaftersnum}{.} %Ставит точки у номеров подподсекций
%\renewcommand{\cftchapaftersnum}{.} %Ставит точки у номеров глав


%Список литературы
\makeatletter
\renewcommand\@biblabel[1]{#1.} %В списке литературы, вместо [1] будет 1.
\makeatother
%Сокращение расстояние между элементами в списке
\let\oldthebibliography=\thebibliography
\let\endoldthebibliography=\endthebibliography
\renewenvironment{thebibliography}[1]{% 
\begin{oldthebibliography}{#1}% \setlength{\parskip}{0ex}% 
\setlength{\itemsep}{0ex}%
}%
{% 
\end{oldthebibliography}% 
}

%Пенальти
%\clubpenalty=9999 %Чтобы списки не были разбиты между страницами


%Мои команды
\newcommand\term[1]{\textit{#1}} %Термины курсивом нужные
\newcommand\node[1]{\url{#1}} %Неплохой шрифт для того, что выделить надо + не надо экранировать
\newcommand\pic[1]{(рисунок \ref{#1})} %Где нужно сослаться на рисунок
\newcommand\tab[1]{(таблица \ref{#1})} %Где нужно сослаться на рисунок


%Конец Преамбулы
